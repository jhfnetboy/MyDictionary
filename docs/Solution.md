è¿™æ˜¯ä¸€ä¸ªéå¸¸å¥½çš„éœ€æ±‚ï¼Œé’ˆå¯¹ **Chrome æ’ä»¶**å’Œ**æœ¬åœ° App** å¯¹æ¨¡å‹æœ‰ä¸¥æ ¼çš„**ä½“ç§¯ï¼ˆæ¨¡å‹å¤§å°ï¼‰**å’Œ**æ¨ç†æ€§èƒ½**è¦æ±‚ï¼ŒåŒæ—¶è¦æ±‚æ”¯æŒ **JS/Rust** æ¥å£ã€‚

ä»¥ä¸‹æ˜¯æˆ‘çš„åˆ†æå’Œæ¨èï¼š

### æ ¸å¿ƒæ¨èæ¨¡å‹

ç»¼åˆæ¨¡å‹ä½“ç§¯ã€å¤šè¯­è¨€èƒ½åŠ›å’Œéƒ¨ç½²å‹å¥½æ€§ï¼ˆå¯¹ JS/Rust çš„æ”¯æŒï¼‰ï¼Œæˆ‘å¼ºçƒˆæ¨èä»¥ä¸‹ä¸¤ä¸ªç³»åˆ—ï¼š

| æ¨èæ¨¡å‹ | å‚æ•°é‡ | ä¼˜åŠ¿ | é€‚ç”¨åœºæ™¯ |
| :--- | :--- | :--- | :--- |
| **Helsinki-NLP/opus-mt-\*** | çº¦ **50M - 300M** | **ä½“ç§¯æœ€å°ï¼Œæ€§èƒ½æé«˜**ï¼Œä¸“ç”¨äºç¿»è¯‘ã€‚ | è¯­è¨€å¯¹æ˜ç¡®çš„åœºæ™¯ï¼Œå¦‚è‹±è¯‘ä¸­ã€æ—¥è¯‘è‹±ã€‚ |
| **alirezamsh/small100** | çº¦ **300M** | **å¤šè¯­è¨€ï¼ˆ100ç§è¯­è¨€ï¼‰**ï¼Œä½“ç§¯è¿œå°äº M2M-100/NLLBã€‚ | éœ€è¦æ”¯æŒå¤šç§è¯­è¨€å¯¹çš„åœºæ™¯ï¼Œæ€§èƒ½å’Œä½“ç§¯å¹³è¡¡ã€‚ |

---

### 1. ğŸ… æœ€ä½³ä½“ç§¯å’Œæ€§èƒ½ï¼šHelsinki-NLP/opus-mt ç³»åˆ—

#### ğŸ’¡ åˆ†æ

* **æ¨¡å‹ç»“æ„ï¼š** åŸºäº MarianMTï¼ˆTransformer æ¶æ„ï¼‰ï¼Œä¸“æ³¨äºæœºå™¨ç¿»è¯‘ã€‚
* **ä½“ç§¯ï¼š** é’ˆå¯¹ç‰¹å®šçš„è¯­è¨€å¯¹ï¼ˆå¦‚ `opus-mt-en-zh`ï¼‰è¿›è¡Œè®­ç»ƒï¼Œé€šå¸¸åªæœ‰ **50M åˆ° 300M** ä¹‹é—´ï¼Œéå¸¸é€‚åˆåœ¨æœ¬åœ°æˆ–æµè§ˆå™¨æ’ä»¶ä¸­å¿«é€ŸåŠ è½½ã€‚
* **æ€§èƒ½ï¼š** æ¨ç†é€Ÿåº¦æå¿«ï¼Œå»¶è¿Ÿå¾ˆä½ã€‚è™½ç„¶ç¿»è¯‘è´¨é‡å¯èƒ½ä¸å¦‚å¤§å‹æ¨¡å‹å¦‚ NLLBï¼Œä½†å¯¹äºæ—¥å¸¸ä½¿ç”¨å·²è¶³å¤Ÿã€‚
* **å±€é™æ€§ï¼š** å®ƒæ˜¯**è¯­è¨€å¯¹ä¸“ä¸€**çš„æ¨¡å‹ï¼Œæ‚¨éœ€è¦é’ˆå¯¹æ¯ä¸ªéœ€è¦çš„è¯­è¨€å¯¹ä¸‹è½½å¯¹åº”çš„æ¨¡å‹ï¼ˆä¾‹å¦‚ï¼Œè¦æ”¯æŒè‹±è¯‘ä¸­å’Œä¸­è¯‘è‹±ï¼Œéœ€è¦ä¸‹è½½ä¸¤ä¸ªæ¨¡å‹ï¼‰ã€‚

#### ğŸ› ï¸ éƒ¨ç½²å‹å¥½æ€§ï¼ˆJS/Rustï¼‰

* **JavaScript (JS)ï¼š**
    * **æ¨èæ–¹æ¡ˆï¼š** ä½¿ç”¨ Hugging Face å®˜æ–¹çš„ **`Transformers.js`** åº“ã€‚`opus-mt` æ¨¡å‹åŸºäºæ ‡å‡†çš„ Transformer æ¶æ„ï¼Œå¯ä»¥å¾ˆå¥½åœ°è½¬æ¢ä¸ºå¹¶è¿è¡Œåœ¨ `Transformers.js` ä¸­ã€‚è¿™å¯¹äº Chrome æ’ä»¶æ˜¯**æœ€ç›´æ¥ã€æœ€é«˜æ•ˆ**çš„æ–¹æ¡ˆï¼Œå¯ä»¥ç›´æ¥åˆ©ç”¨ WebGPU/WebAssembly åŠ é€Ÿã€‚
* **Rustï¼š**
    * **æ¨èæ–¹æ¡ˆï¼š** ä½¿ç”¨ Hugging Face çš„ **`Candle`** æ¡†æ¶ï¼ˆRust ML æ¡†æ¶ï¼‰ã€‚`Candle` å®˜æ–¹æ”¯æŒ Transformer ç±»æ¨¡å‹ï¼Œæ‚¨å¯ä»¥å°†æ¨¡å‹æƒé‡å’Œé…ç½®è½¬æ¢ä¸º `Candle` æ”¯æŒçš„æ ¼å¼è¿›è¡Œæ¨ç†ã€‚

---

### 2. âœ¨ æœ€ä½³å¤šè¯­è¨€æ”¯æŒï¼šalirezamsh/small100

#### ğŸ’¡ åˆ†æ

* **æ¨¡å‹ç»“æ„ï¼š** M2M-100 (12B) çš„**è’¸é¦ï¼ˆDistilledï¼‰ç‰ˆæœ¬**ã€‚
* **ä½“ç§¯ï¼š** çº¦ **300M**ï¼Œåœ¨å¤šè¯­è¨€ç¿»è¯‘æ¨¡å‹ä¸­å±äºæå°çš„èŒƒç•´ï¼Œé€‚åˆæœ¬åœ°åŒ–éƒ¨ç½²ã€‚
* **å¤šè¯­è¨€ï¼š** æ”¯æŒ **100 ç§è¯­è¨€**ä¹‹é—´çš„äº’ç›¸ç¿»è¯‘ï¼ˆMany-to-Many MMTï¼‰ï¼Œå¯ä»¥å¤§å¹…å‡å°‘æ‚¨éœ€è¦ç»´æŠ¤çš„æ¨¡å‹æ•°é‡ã€‚
* **æ€§èƒ½ï¼š** è™½ç„¶ç‰ºç‰²äº†ä¸€äº›è´¨é‡ï¼Œä½†å®ƒåœ¨ä¿æŒå¤šè¯­è¨€èƒ½åŠ›çš„åŒæ—¶ï¼Œæ˜¾è‘—æé«˜äº†æ¨ç†é€Ÿåº¦å’Œå†…å­˜æ•ˆç‡ã€‚

#### ğŸ› ï¸ éƒ¨ç½²å‹å¥½æ€§ï¼ˆJS/Rustï¼‰

* **JavaScript (JS)ï¼š**
    * **æ¨èæ–¹æ¡ˆï¼š** åŒæ ·æ˜¯ **`Transformers.js`**ã€‚ä½œä¸º M2M-100 çš„å˜ä½“ï¼Œå®ƒçš„ç»“æ„å¯ä»¥è¢« `Transformers.js` æ”¯æŒï¼Œå®ç°æµè§ˆå™¨å†…çš„æ¨ç†ã€‚
* **Rustï¼š**
    * **æ¨èæ–¹æ¡ˆï¼š** ä½¿ç”¨ **`Candle`**ã€‚`Candle` å¯¹å¤šå±‚ Transformer æ¨¡å‹çš„æ”¯æŒæ—¥è¶‹æˆç†Ÿã€‚æ‚¨å¯èƒ½éœ€è¦éµå¾ª Hugging Face ç¤¾åŒºä¸­å…³äºå¦‚ä½•å°† M2M/SMaLL100 éƒ¨ç½²åˆ° Rust çš„æ•™ç¨‹ã€‚

---

### éƒ¨ç½²æ€»ç»“ï¼šæŠ€æœ¯æ ˆé€‰æ‹©

| ç›®æ ‡å¹³å° | é¦–é€‰è¯­è¨€ | æ¨èåº“/æ¡†æ¶ | éƒ¨ç½²ä¼˜åŠ¿ |
| :--- | :--- | :--- | :--- |
| **Chrome æ’ä»¶** | **JavaScript/TypeScript** | **`@huggingface/transformers` (Transformers.js)** | æ— éœ€åç«¯ï¼Œå®Œå…¨åœ¨æµè§ˆå™¨æœ¬åœ°è¿è¡Œï¼Œåˆ©ç”¨ WebGPU/WebAssemblyï¼Œéšç§å®‰å…¨é«˜ã€‚ |
| **æœ¬åœ° App** | **Rust** | **`Hugging Face Candle`** | çº¯ Rust å®ç°ï¼Œæ€§èƒ½å’Œå†…å­˜æ§åˆ¶ä¼˜ç§€ï¼Œå¯ç›´æ¥ç¼–è¯‘ä¸ºæ¡Œé¢ App äºŒè¿›åˆ¶æ–‡ä»¶ã€‚ |

---

### ä¸‹ä¸€æ­¥å»ºè®®

1.  **ç¡®å®šæ ¸å¿ƒè¯­è¨€å¯¹ï¼š** å¦‚æœæ‚¨çš„åº”ç”¨åªéœ€è¦æ”¯æŒå°‘æ•°å‡ ä¸ªè¯­è¨€å¯¹ï¼ˆå¦‚ä¸­è‹±æ—¥éŸ©ï¼‰ï¼Œé€‰æ‹© **`opus-mt`** ç³»åˆ—ï¼Œå› ä¸ºå®ƒä½“ç§¯æœ€å°ã€‚
2.  **éªŒè¯æ¨¡å‹å…¼å®¹æ€§ï¼š** æ— è®ºé€‰æ‹©å“ªä¸ªæ¨¡å‹ï¼Œåœ¨å¼€å§‹å¼€å‘å‰ï¼Œè¯·å…ˆåœ¨ **Hugging Face Hub** é¡µé¢ç¡®è®¤æ¨¡å‹å¡ç‰‡ä¸­æ˜¯å¦æ˜ç¡®æåˆ°äº†å¯¹ **`Transformers.js`** æˆ– **`Candle`** çš„æ”¯æŒï¼Œæˆ–è€…æ˜¯å¦å­˜åœ¨ç¤¾åŒºè½¬æ¢ç¤ºä¾‹ã€‚
3.  **å°è¯• `Transformers.js` ç¤ºä¾‹ï¼š** å¯¹äº Chrome æ’ä»¶ï¼Œé¦–å…ˆå°è¯•ä½¿ç”¨ `Transformers.js` è·‘ä¸€ä¸ª `opus-mt` æ¨¡å‹çš„ç¿»è¯‘ Demoï¼Œä»¥éªŒè¯æ€§èƒ½æ˜¯å¦æ»¡è¶³è¦æ±‚ã€‚

æ‚¨æ›´å€¾å‘äºä½¿ç”¨ **JavaScript (Chrome æ’ä»¶)** è¿˜æ˜¯ **Rust (æœ¬åœ° App)** æ¥è¿›è¡Œå¼€å‘å‘¢ï¼Ÿæˆ‘å¯ä»¥ä¸ºæ‚¨æä¾›è¯¥æ–¹å‘çš„å…¥é—¨æŒ‡å—æˆ–èµ„æºé“¾æ¥ã€‚


--------

è¿™æ˜¯ä¸€ä¸ªéå¸¸å®ç”¨çš„ Chrome æ’ä»¶åº”ç”¨åœºæ™¯ï¼ä½¿ç”¨ Hugging Face çš„æ¨¡å‹å’Œåº“å®Œå…¨å¯ä»¥å®ç°æ‚¨æå‡ºçš„æ‰€æœ‰åŠŸèƒ½ã€‚

æ ¸å¿ƒæŠ€æœ¯æ ˆå°†æ˜¯ **JavaScript** å’Œ **`@huggingface/transformers` (Transformers.js)** åº“ã€‚

### ğŸš€ æ¨èçš„æŠ€æœ¯æ ˆä¸å¼€å‘æŒ‡å¯¼

| ç»„ä»¶ | æŠ€æœ¯/åº“ | ä½œç”¨ | å¤‡æ³¨ |
| :--- | :--- | :--- | :--- |
| **æ ¸å¿ƒæ¨¡å‹** | `Xenova/all-MiniLM-L6-v2` | ç”¨äº**æŸ¥æ‰¾ç›¸ä¼¼è¯**å’Œ**èŒƒä¾‹å¥å­** (Sentence Similarity)ã€‚ | ä½“ç§¯å°ï¼Œæ€§èƒ½å¿«ï¼Œé€‚åˆæœ¬åœ°è®¡ç®—ã€‚ |
| **ç¿»è¯‘æ¨¡å‹** | `Helsinki-NLP/opus-mt-**` | ç”¨äºç¿»è¯‘æŸ¥åˆ°çš„å•è¯/é‡Šä¹‰ï¼ˆå¯é€‰ï¼‰ã€‚ | æ ¹æ®éœ€è¦çš„è¯­è¨€å¯¹ä¸‹è½½ç‰¹å®šæ¨¡å‹ã€‚ |
| **å‰ç«¯åº“** | **`@huggingface/transformers`** | åœ¨æµè§ˆå™¨ä¸­ç›´æ¥è¿è¡Œ Hugging Face æ¨¡å‹ã€‚ | æ”¯æŒ WebGPU/WebAssembly åŠ é€Ÿï¼Œ**ä¸€ä¸ªåº“è§£å†³æ‰€æœ‰ ML é—®é¢˜**ã€‚ |
| **åº”ç”¨æ¶æ„** | Chrome Extension V3 (Manifest V3) | æ’ä»¶çš„æ•´ä½“ç»“æ„å’Œå®‰å…¨æ²™ç®±ã€‚ | ä½¿ç”¨ **Content Script** ç›‘å¬ç½‘é¡µäº‹ä»¶ï¼Œ**Background/Service Worker** è¿è¡Œæ¨¡å‹ã€‚ |
| **UI äº¤äº’** | HTML/CSS/Vanilla JS æˆ–è½»é‡çº§æ¡†æ¶ (å¦‚ Preact) | æµ®çª—ç•Œé¢çš„å®ç°ã€‚ | |

-----

### ä¸€ã€ æ ¸å¿ƒåŠŸèƒ½å®ç°æ€è·¯ (åŸºäº Transformers.js)

æ‚¨æå‡ºçš„â€œæŸ¥å•è¯ï¼Œç»™å‡ºç›¸è¿‘è¯æ›¿æ¢ listï¼Œä»¥åŠç»™å‡ºåº”ç”¨èŒƒä¾‹å¥å­â€æ˜¯å…¸å‹çš„ **NLP ä»»åŠ¡ç»„åˆ**ï¼Œä½†æˆ‘ä»¬å¯ä»¥ç”¨ä¸€ä¸ªæ¨¡å‹æ¥å·§å¦™åœ°å®Œæˆå¤§éƒ¨åˆ†å·¥ä½œï¼š

#### 1\. ç›¸è¿‘è¯æ›¿æ¢ (Synonym/Substitution)

æˆ‘ä»¬ä¸ä½¿ç”¨ä¼ ç»Ÿçš„è¯å…¸ï¼Œè€Œæ˜¯åˆ©ç”¨ **æ©ç å¡«å…… (Fill-Mask)** æˆ– **å¥å­ç›¸ä¼¼åº¦ (Sentence Similarity)** ä»»åŠ¡ã€‚

  * **æŠ€æœ¯æ–¹æ¡ˆï¼šFill-Mask (æ›´ç²¾å‡†)**
      * **æ¨¡å‹ï¼š** é€‰ç”¨ä¸€ä¸ªå°å‹ **Masked Language Model (MLM)**ï¼Œå¦‚ `Xenova/bert-base-cased` çš„è’¸é¦ç‰ˆã€‚
      * **å®ç°æ­¥éª¤ï¼š**
        1.  ç”¨æˆ·é€‰ä¸­ä¸€ä¸ªè¯ **`[WORD]`**ã€‚
        2.  å°†è¯¥è¯ç”¨ `[MASK]` æ ‡è®°æ›¿æ¢å›åŸå¥ï¼š`"I need to [MASK] this word."`
        3.  è¿è¡Œ **`fill-mask`** pipelineï¼š
            ```javascript
            const pipe = await pipeline('fill-mask', 'Xenova/distilbert-base-uncased');
            const output = await pipe('The user wants to [MASK] this word.', { topk: 5 });
            // output: è¿”å›æœ€å¯èƒ½çš„ 5 ä¸ªå¡«å……è¯ (å³ç›¸è¿‘è¯/æ›¿æ¢è¯)ã€‚
            ```
  * **æŠ€æœ¯æ–¹æ¡ˆï¼šSentence Similarity (é€‚ç”¨äºä¸Šä¸‹æ–‡)**
      * **æ¨¡å‹ï¼š** `Xenova/all-MiniLM-L6-v2` (Sentence Embedding)ã€‚
      * **å®ç°æ­¥éª¤ï¼š** æå‰æ„å»ºä¸€ä¸ªåŒ…å«å¤§é‡åŒä¹‰è¯çš„è¯åº“ï¼Œç„¶åè®¡ç®—é€‰ä¸­è¯çš„åµŒå…¥å‘é‡ï¼Œä¸è¯åº“ä¸­æ‰€æœ‰è¯çš„å‘é‡è¿›è¡Œ**ä½™å¼¦ç›¸ä¼¼åº¦**æ¯”è¾ƒï¼Œè¿”å›æœ€ç›¸ä¼¼çš„è¯ã€‚

#### 2\. åº”ç”¨èŒƒä¾‹å¥å­ (Example Sentences)

è¿™æ˜¯ä¸€ä¸ª**ä¿¡æ¯æ£€ç´¢ (Information Retrieval, IR)** ä»»åŠ¡ã€‚

  * **æ¨¡å‹ï¼š** åŒæ ·ä½¿ç”¨ **`Xenova/all-MiniLM-L6-v2`**ã€‚
  * **å®ç°æ­¥éª¤ï¼š**
    1.  æå‰æ„å»ºä¸€ä¸ªåŒ…å«å¤§é‡èŒƒä¾‹å¥å­çš„æœ¬åœ°æ•°æ®åº“ï¼ˆå¦‚ JSON æ–‡ä»¶ï¼Œæ¯ä¸ªå¥å­éƒ½é¢„å…ˆè®¡ç®—å¥½åµŒå…¥å‘é‡ï¼‰ã€‚
    2.  ç”¨æˆ·é€‰ä¸­ä¸€ä¸ªè¯ **`[WORD]`**ã€‚
    3.  å°† **`[WORD]`** è§†ä¸ºæŸ¥è¯¢ (Query)ï¼Œè®¡ç®—å…¶åµŒå…¥å‘é‡ã€‚
    4.  è®¡ç®—è¯¥æŸ¥è¯¢å‘é‡ä¸æ•°æ®åº“ä¸­æ‰€æœ‰èŒƒä¾‹å¥å­çš„å‘é‡çš„**ä½™å¼¦ç›¸ä¼¼åº¦**ã€‚
    5.  è¿”å›ç›¸ä¼¼åº¦æœ€é«˜çš„ **3-5** ä¸ªå¥å­ä½œä¸ºåº”ç”¨èŒƒä¾‹ã€‚

-----

### äºŒã€ Chrome æ’ä»¶æ¶æ„å’Œå¼€å‘æŒ‡å¯¼

#### 1\. ç»“æ„æ¦‚è§ˆ (Manifest V3)

```
my-dictionary-plugin/
â”œâ”€â”€ manifest.json       // æ’ä»¶é…ç½®æ–‡ä»¶
â”œâ”€â”€ background.js       // Service Workerï¼Œè´Ÿè´£å¿«æ·é”®ç›‘å¬ã€æ¨¡å‹åŠ è½½å’Œæ¨ç†ï¼ˆæ ¸å¿ƒé€»è¾‘ï¼‰
â”œâ”€â”€ content.js          // å†…å®¹è„šæœ¬ï¼Œè´Ÿè´£ç›‘å¬ç½‘é¡µé€‰ä¸­äº‹ä»¶ã€åˆ›å»ºå’Œé”€æ¯æµ®çª—
â”œâ”€â”€ popup.html/.js      // æ’ä»¶å›¾æ ‡ç‚¹å‡»åçš„å¼¹å‡ºç•Œé¢ï¼ˆå¯é€‰ï¼Œç”¨äºè®¾ç½®ï¼‰
â”œâ”€â”€ ui/                 // æµ®çª— UI èµ„æº
â”‚   â””â”€â”€ floating-window.html/.css/.js
â””â”€â”€ models/             // å­˜æ”¾é¢„ä¸‹è½½çš„æ¨¡å‹æƒé‡ (å¯é€‰ï¼Œç”¨äºç¦»çº¿)
```

#### 2\. å…³é”®å¼€å‘æ­¥éª¤

##### A. å¼•å…¥ Transformers.js

åœ¨ **`background.js`** (Service Worker) æˆ–ä¸“é—¨çš„ Web Worker ä¸­å¼•å…¥ï¼š

```javascript
// background.js (æˆ–å•ç‹¬çš„workeræ–‡ä»¶)
import { pipeline } from '@huggingface/transformers';

// æ¨¡å‹åŠ è½½ï¼šåœ¨ service worker å¯åŠ¨æ—¶åŠ è½½
let fillMaskPipeline;
let sentenceSimilarityPipeline;

async function loadModels() {
    // é¦–æ¬¡åŠ è½½æ¨¡å‹ï¼ŒTransformers.js ä¼šè‡ªåŠ¨ä¸‹è½½æƒé‡æ–‡ä»¶
    fillMaskPipeline = await pipeline('fill-mask', 'Xenova/distilbert-base-uncased');
    sentenceSimilarityPipeline = await pipeline('feature-extraction', 'Xenova/all-MiniLM-L6-v2');
    console.log("æ‰€æœ‰æ¨¡å‹åŠ è½½å®Œæˆï¼");
}

loadModels();
```

##### B. å®ç°å¿«æ·é”®å‘¼å«å’Œå…³é—­

åœ¨ **`manifest.json`** ä¸­é…ç½®å¿«æ·é”®ï¼š

```json
"commands": {
    "toggle-dictionary": {
        "suggested_key": { "default": "Ctrl+Shift+F" },
        "description": "Toggle dictionary lookup window."
    }
},
"permissions": ["scripting", "activeTab", "tabs"]
```

åœ¨ **`background.js`** ä¸­ç›‘å¬å¿«æ·é”®ï¼Œå¹¶æ³¨å…¥ Content Scriptï¼š

```javascript
chrome.commands.onCommand.addListener((command) => {
    if (command === "toggle-dictionary") {
        // æŸ¥æ‰¾å½“å‰æ´»è·ƒçš„ Tab
        chrome.tabs.query({ active: true, currentWindow: true }, (tabs) => {
            if (tabs[0]) {
                // å‘ Content Script å‘é€æ¶ˆæ¯ï¼Œè®©å®ƒæ˜¾ç¤ºæˆ–éšè—æµ®çª—
                chrome.tabs.sendMessage(tabs[0].id, { action: "toggleUI" });
            }
        });
    }
});
```

##### C. å®ç°è·¨è„šæœ¬é€šä¿¡å’Œæ¨¡å‹æ¨ç†

**Content Script (`content.js`)ï¼š**

1.  ç›‘å¬ç”¨æˆ·**é¼ æ ‡é‡Šæ”¾ (mouseup)** äº‹ä»¶ï¼Œè·å–é€‰ä¸­çš„æ–‡æœ¬ **`selectedText`**ã€‚
2.  å‘ **Service Worker** å‘é€æ¶ˆæ¯è¯·æ±‚æ¨ç†ï¼š
    ```javascript
    chrome.runtime.sendMessage({
        action: 'lookupWord',
        word: selectedText,
        context: surroundingSentence // ä¼ é€’ä¸Šä¸‹æ–‡æœ‰åŠ©äºFill-Mask
    }, (response) => {
        // æ¥æ”¶ç»“æœå¹¶åœ¨ç½‘é¡µä¸Šæ˜¾ç¤ºæµ®çª—
        displayFloatingUI(response);
    });
    ```

**Service Worker (`background.js`)ï¼š**

ç›‘å¬ Content Script å‘æ¥çš„è¯·æ±‚ï¼Œå¹¶æ‰§è¡Œæ¨ç†ï¼š

```javascript
chrome.runtime.onMessage.addListener((request, sender, sendResponse) => {
    if (request.action === 'lookupWord') {
        const { word, context } = request;
        
        // 1. ç›¸è¿‘è¯æ›¿æ¢ (Fill-Mask ç¤ºä¾‹)
        const maskedSentence = context.replace(word, fillMaskPipeline.tokenizer.mask_token);
        const replacementsPromise = fillMaskPipeline(maskedSentence, { topk: 5 })
            .then(results => results.map(r => r.token_str));

        // 2. èŒƒä¾‹å¥å­ (ç®€åŒ–ï¼šè¿™é‡Œè¿”å›ç¡¬ç¼–ç çš„èŒƒä¾‹ï¼Œå®é™…éœ€è¿è¡ŒSentence Similarity)
        const examplesPromise = getExampleSentences(word); 

        Promise.all([replacementsPromise, examplesPromise])
            .then(([replacements, examples]) => {
                sendResponse({
                    success: true,
                    replacements: replacements,
                    examples: examples
                });
            })
            .catch(error => {
                console.error("MLæ¨ç†å¤±è´¥:", error);
                sendResponse({ success: false, error: error.message });
            });
            
        // å¿…é¡»è¿”å› true æ‰èƒ½ä½¿ç”¨å¼‚æ­¥çš„ sendResponse
        return true; 
    }
});
```

è¿™ä¸ªæŠ€æœ¯æ ˆå¯ä»¥å®ç°æ‚¨çš„æ‰€æœ‰è¦æ±‚ï¼Œç‰¹åˆ«æ˜¯ **`Transformers.js`** å…è®¸æ‚¨åœ¨ä¸€ä¸ª JS åº“ä¸­å®Œæˆæ‰€æœ‰å¤æ‚çš„ AI ä»»åŠ¡ï¼Œå®Œç¾åœ°ç¬¦åˆäº† **"ä¸€ä¸ªå¼€å‘åº“"** çš„éœ€æ±‚ã€‚
